(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(3),l=a.n(c),o=(a(14),a(1)),i=a(4),u=a(5),m=a(6),s=a(8),d=a(7),p=(a(15),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"frameX"},r.a.createElement("div",null,"0"),r.a.createElement("div",null,"1"),r.a.createElement("div",null,"2"),r.a.createElement("div",null,"3"),r.a.createElement("div",null,"4"),r.a.createElement("div",null,"5"),r.a.createElement("div",null,"6"),r.a.createElement("div",null,"7"),r.a.createElement("div",null,"8"),r.a.createElement("div",null,"9")),r.a.createElement("div",{className:"frameY"},r.a.createElement("div",null,"A"),r.a.createElement("div",null,"B"),r.a.createElement("div",null,"C"),r.a.createElement("div",null,"D"),r.a.createElement("div",null,"E"),r.a.createElement("div",null,"F"),r.a.createElement("div",null,"G"),r.a.createElement("div",null,"H"),r.a.createElement("div",null,"I"),r.a.createElement("div",null,"J")))}),h=function(e){var t=e.dataX,a=e.dataY,n=e.handleAttack,c=e.item,l=e.boardType;return r.a.createElement("button",{className:"cell ".concat("playerBoard"===l?"playerCell playerCell".concat(c):""," ").concat("computerBoard"===l&&"number"===typeof c?"shipCell":c),type:"button",tabIndex:0,"data-x":t,"data-y":a,onClick:function(e){return n(e)}},c)},f=function(e){var t=e.items,a=e.dataY,n=e.handleAttack,c=e.boardType,l=t.map((function(e,t){return r.a.createElement(h,{item:e,key:t,dataX:t,dataY:a,handleAttack:n,boardType:c})}));return r.a.createElement("div",{className:"row"},l)},v=function(e){var t=e.item,a=e.boardType,n=e.handleAttack,c=t.map((function(e,t){return r.a.createElement(f,{items:e,key:t,dataY:t,handleAttack:n,boardType:a})}));return r.a.createElement("div",{className:"gameBoards"},r.a.createElement(p,null),r.a.createElement("div",{className:"board",id:a},c))},y=function(e){return r.a.createElement("div",{id:e.id,className:e.className})},E=function(e){var t=e.playerName,a=e.computerName,n=e.handleInput,c=e.handleNewBoard,l=e.handleStartGame,o=e.boards;return r.a.createElement("div",{className:"menu"},r.a.createElement("label",{htmlFor:"player-name"},"Player Name",r.a.createElement("input",{type:"text",placeholder:"Player Name",id:"player-name",name:"playerName",value:t,onChange:function(e){return n(e)}})),r.a.createElement("label",{htmlFor:"computer-name"},"Computer Name",r.a.createElement("input",{type:"text",placeholder:"Computer Name",id:"computer-name",name:"computerName",value:a,onChange:function(e){return n(e)}})),r.a.createElement("button",{onClick:function(){c()},type:"button",id:"newBoardBtn"},"New Board"),o&&r.a.createElement("button",{type:"button",id:"startGameBtn",onClick:function(){return l()}},"Start Game"))},k=function(e){var t=0,a="notSunk";return{getLength:function(){return e},isHit:function(){e-(t+=1)===0&&(a="sunk")},isSunk:function(){return a},hitValue:function(){return t}}},b=function(){var e=function(){for(var e=[],t=0;t<10;t+=1){e.push([]);for(var a=0;a<10;a+=1)e[t].push("")}return e}(),t=[];return{placeShip:function(a,n,r,c){if(t.push(k(c)),r)for(var l=0;l<c;l+=1)e[n].splice(a+l,1,c);else if(!r)for(var o=0;o<c;o+=1)e[n+o].splice(a,1,c)},board:e,checkPlacementLength:function(e,t,a){return e+a<=10&&t+a<=10},checkPlacementFree:function(t,a,n,r){if(n){for(var c=0;c<r;c+=1)if(""!==e[a][t+c])return!1}else if(!n)for(var l=0;l<r;l+=1)if(""!==e[a+l][t])return!1;return!0},receiveAttack:function(a,n){var r=e[n][a];""!==r&&"X"!==r?t.find((function(e){return e.getLength()===r})).isHit():""===r&&e[n].splice(a,1,"X")},ships:t}};var g=function(){var e=b(),t=e.board,a=e.ships;function n(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}function r(t,a,n,r){return!(!e.checkPlacementLength(t,a,r)||!e.checkPlacementFree(t,a,n,r))&&(e.placeShip(t,a,n,r),!0)}return{hasLost:function(){return e.ships.every((function(e){return"sunk"===e.isSunk()}))},receiveAttack:function(t,a){e.receiveAttack(t,a)},checkCell:function(e,t){for(var a=function(e,t){for(var a=document.getElementsByClassName("playerCell"),n=0;n<a.length;n+=1)if(a[n].dataset.x===e.toString()&&a[n].dataset.y===t.toString())return a[n];return!1}(e,t),n=1;n<6;n+=1)a.classList.contains("playerCell".concat(n))&&(a.classList.add("hitCell"),a.classList.remove("playerCell".concat(n)))},playerBoard:t,generatePlacement:function(){for(var e=1;e<6;e+=1)for(var t=n(),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Math.random()>=.5;!r(c,l,i,e);){var u=n(),m=Object(o.a)(u,2);c=m[0],l=m[1],i=Math.random()>=.5}},newBoard:function(){a.length=0;for(var e=0;e<t.length;e+=1)for(var n=0;n<t.length;n+=1)t[e].splice(n,1,"")},playerShips:a}};var N=function(){var e=b(),t=e.board,a=e.ships,n=[];function r(){return[Math.floor(10*Math.random()),Math.floor(10*Math.random())]}function c(e,t){for(var a=0;a<n.length;a+=1)if(n[a][0]===e&&n[a][1]===t)return!1;return!0}function l(t,a,n,r){return!(!e.checkPlacementLength(t,a,r)||!e.checkPlacementFree(t,a,n,r))&&(e.placeShip(t,a,n,r),!0)}return{hasLost:function(){return a.every((function(e){return"sunk"===e.isSunk()}))},attack:function(){for(var e=r(),t=Object(o.a)(e,2),a=t[0],l=t[1];;){if(c(a,l))return n.push([a,l]),[a,l];var i=r(),u=Object(o.a)(i,2);a=u[0],l=u[1]}},computerBoard:t,computerShips:a,generatePlacement:function(){for(var e=1;e<6;e+=1)for(var t=r(),a=Object(o.a)(t,2),n=a[0],c=a[1],i=Math.random()>=.5;!l(n,c,i,e);){var u=r(),m=Object(o.a)(u,2);n=m[0],c=m[1],i=Math.random()>=.5}},receiveAttack:function(t,a){e.receiveAttack(t,a)}}},S=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleInput=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(i.a)({},a,r))},n.handleNewBoard=function(){n.player.newBoard(),n.player.generatePlacement(),n.setState({boards:!0,playerBoard:n.player.playerBoard,playerShips:n.player.playerShips})},n.handleStartGame=function(){n.setState({start:!0})},n.checkEndGame=function(){n.player.hasLost()?n.setState({victory:n.state.computerName}):n.computer.hasLost()&&n.setState({victory:n.state.playerName})},n.handleAttack=function(e){var t=e.target.dataset.x,a=e.target.dataset.y;e.target.classList.contains("shipCell")&&e.target.classList.add("hitCell"),n.computer.receiveAttack(t,a),n.checkEndGame();var r=n.computer.attack(),c=Object(o.a)(r,2),l=c[0],i=c[1];n.player.receiveAttack(l,i),n.player.checkCell(l,i),n.checkEndGame(),n.setState({playerBoard:n.player.playerBoard,playerShips:n.player.playerShips,computerBoard:n.computer.computerBoard,computerShips:n.computer.computerShips})},n.player=g(),n.computer=N(),n.state={start:!1,victory:!1,boards:!1,playerName:"",playerBoard:n.player.playerBoard,playerShips:[],computerName:"",computerBoard:[],computerShips:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.computer.generatePlacement(),this.setState({computerBoard:this.computer.computerBoard,computerShips:this.computer.computerShips})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{id:"header"},"Battleship"),!this.state.start&&r.a.createElement(E,{handleNewBoard:this.handleNewBoard,handleStartGame:this.handleStartGame,handleInput:this.handleInput,playerName:this.state.playerName,computerName:this.state.computerName,boards:this.state.boards}),!1!==this.state.victory&&r.a.createElement("div",{className:"endGame"},r.a.createElement("h1",null,this.state.victory," has won!"),r.a.createElement("button",{type:"button",id:"newGameBtn",onClick:function(){return window.location.reload(!1)}},"New Game")),r.a.createElement("div",{className:"mainArea"},r.a.createElement("div",null,r.a.createElement("h2",{className:"names"},this.state.playerName),r.a.createElement(v,{item:this.state.playerBoard,boardType:"playerBoard"}),r.a.createElement("div",{className:"ships"},this.state.playerShips.map((function(e){return r.a.createElement(y,{key:e.getLength(),id:e.getLength(),className:e.isSunk()})})))),r.a.createElement("div",null,r.a.createElement("h2",{className:"names"},this.state.computerName),r.a.createElement(v,{item:this.state.computerBoard,handleAttack:this.handleAttack,boardType:"computerBoard"}),r.a.createElement("div",{className:"ships"},this.state.computerShips.map((function(e){return r.a.createElement(y,{key:e.getLength(),id:e.getLength(),className:e.isSunk()})}))))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.11782278.chunk.js.map